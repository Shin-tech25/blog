{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/python-dateutil/","result":{"data":{"site":{"siteMetadata":{"title":"Developer's blog"}},"markdownRemark":{"id":"0e2362aa-79b8-545b-96c2-f19b6e2c8870","excerpt":"モジュールは、Python の標準ライブラリである  を強力に拡張するサードパーティライブラリです。このモジュールを使用することで、日付や時間に関する操作がより柔軟かつ便利になります。本記事では、 の基本的な使い方から実用的な例までを解説します。 dateutil…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#dateutil-%E3%81%AE%E4%B8%BB%E3%81%AA%E7%89%B9%E5%BE%B4\">dateutil の主な特徴</a></p>\n</li>\n<li>\n<p><a href=\"#1-dateutil-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95\">1. dateutil のインストール方法</a></p>\n</li>\n<li>\n<p><a href=\"#2-%E6%97%A5%E4%BB%98%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E8%A7%A3%E6%9E%90parser-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB\">2. 日付文字列の解析（parser モジュール）</a></p>\n<ul>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B\">基本的な使用例</a></li>\n<li><a href=\"#default-%E5%BC%95%E6%95%B0%E3%81%AE%E6%B4%BB%E7%94%A8\">default 引数の活用</a></li>\n<li><a href=\"#dayfirst-yearfirst-%E5%BC%95%E6%95%B0\">dayfirst, yearfirst 引数</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%E7%9B%B8%E5%AF%BE%E7%9A%84%E3%81%AA%E6%97%A5%E4%BB%98%E8%A8%88%E7%AE%97relativedelta-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB\">3. 相対的な日付計算（relativedelta モジュール）</a></p>\n<ul>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B-1\">基本的な使用例</a></li>\n<li><a href=\"#%E7%89%B9%E5%AE%9A%E3%81%AE%E6%9B%9C%E6%97%A5%E3%82%92%E6%8C%87%E5%AE%9A\">特定の曜日を指定</a></li>\n<li><a href=\"#%E5%B9%B4%E3%82%84%E6%9C%88%E3%81%AE%E7%89%B9%E5%AE%9A%E6%97%A5%E3%82%92%E8%A8%88%E7%AE%97\">年や月の特定日を計算</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%97%E3%83%AB%E3%83%BC%E3%83%ABrrule-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB\">4. 繰り返しルール（rrule モジュール）</a></p>\n<ul>\n<li><a href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B-2\">基本的な使用例</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%A8%E5%AF%BE%E5%87%A6%E6%B3%95\">5. よくあるエラーと対処法</a></p>\n<ul>\n<li><a href=\"#%E3%82%A8%E3%83%A9%E3%83%BC%E4%BE%8B%E3%81%A8%E5%AF%BE%E5%87%A6%E6%B3%95\">エラー例と対処法</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#6-%E4%BB%96%E3%81%AE%E9%A1%9E%E4%BC%BC%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83\">6. 他の類似ライブラリとの比較</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%B5%90%E8%AB%96\">結論</a></p>\n</li>\n</ul>","html":"<p><code class=\"language-text\">dateutil</code> モジュールは、Python の標準ライブラリである <code class=\"language-text\">datetime</code> を強力に拡張するサードパーティライブラリです。このモジュールを使用することで、日付や時間に関する操作がより柔軟かつ便利になります。本記事では、<code class=\"language-text\">dateutil</code> の基本的な使い方から実用的な例までを解説します。</p>\n<h2 id=\"dateutil-の主な特徴\" style=\"position:relative;\"><a href=\"#dateutil-%E3%81%AE%E4%B8%BB%E3%81%AA%E7%89%B9%E5%BE%B4\" aria-label=\"dateutil の主な特徴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dateutil の主な特徴</h2>\n<p><code class=\"language-text\">dateutil</code> は以下のような機能を提供します：</p>\n<ul>\n<li><strong>柔軟な日付文字列の解析</strong>：多様なフォーマットの日付文字列をサポート。</li>\n<li><strong>相対的な日付計算</strong>：<code class=\"language-text\">relativedelta</code> を使った柔軟な日付計算。</li>\n<li><strong>繰り返しルールの定義</strong>：カレンダー的な繰り返しイベントの指定。</li>\n</ul>\n<h2 id=\"1-dateutil-のインストール方法\" style=\"position:relative;\"><a href=\"#1-dateutil-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95\" aria-label=\"1 dateutil のインストール方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. dateutil のインストール方法</h2>\n<p><code class=\"language-text\">dateutil</code> モジュールを利用するには、以下のコマンドでインストールします：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> python-dateutil</code></pre></div>\n<h2 id=\"2-日付文字列の解析parser-モジュール\" style=\"position:relative;\"><a href=\"#2-%E6%97%A5%E4%BB%98%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E8%A7%A3%E6%9E%90parser-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB\" aria-label=\"2 日付文字列の解析parser モジュール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 日付文字列の解析（parser モジュール）</h2>\n<p>標準の <code class=\"language-text\">datetime.strptime</code> メソッドでは、日付文字列のフォーマットを厳密に指定する必要があります。しかし、<code class=\"language-text\">dateutil.parser.parse</code> を使えば、さまざまなフォーマットの文字列を自動的に解析できます。</p>\n<h3 id=\"基本的な使用例\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B\" aria-label=\"基本的な使用例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本的な使用例</h3>\n<p>以下の例では、異なる形式の日付文字列を <code class=\"language-text\">parse</code> 関数で解析しています：</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>parser <span class=\"token keyword\">import</span> parse\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'2023-12-31 23:59:59'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ISO形式</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'31 Dec 2023'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>          <span class=\"token comment\"># 英語形式</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'20231231'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>            <span class=\"token comment\"># 簡略形式</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'December 31, 2023'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\"># フルスペル形式</span></code></pre></div>\n<h3 id=\"default-引数の活用\" style=\"position:relative;\"><a href=\"#default-%E5%BC%95%E6%95%B0%E3%81%AE%E6%B4%BB%E7%94%A8\" aria-label=\"default 引数の活用 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>default 引数の活用</h3>\n<p>指定されていない部分を補完するために、<code class=\"language-text\">default</code> 引数を使用できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>parser <span class=\"token keyword\">import</span> parse\n\ndefault <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">(</span><span class=\"token number\">2023</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'23:59'</span><span class=\"token punctuation\">,</span> default<span class=\"token operator\">=</span>default<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 2023-01-01 23:59:00</span></code></pre></div>\n<h3 id=\"dayfirst-yearfirst-引数\" style=\"position:relative;\"><a href=\"#dayfirst-yearfirst-%E5%BC%95%E6%95%B0\" aria-label=\"dayfirst yearfirst 引数 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dayfirst, yearfirst 引数</h3>\n<p>日付形式の解釈を柔軟に変更できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'01/02/2023'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>           <span class=\"token comment\"># 月/日/年として解釈</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">'01/02/2023'</span><span class=\"token punctuation\">,</span> dayfirst<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 日/月/年として解釈</span></code></pre></div>\n<h2 id=\"3-相対的な日付計算relativedelta-モジュール\" style=\"position:relative;\"><a href=\"#3-%E7%9B%B8%E5%AF%BE%E7%9A%84%E3%81%AA%E6%97%A5%E4%BB%98%E8%A8%88%E7%AE%97relativedelta-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB\" aria-label=\"3 相対的な日付計算relativedelta モジュール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 相対的な日付計算（relativedelta モジュール）</h2>\n<p><code class=\"language-text\">relativedelta</code> を使用すると、標準ライブラリの <code class=\"language-text\">timedelta</code> よりも柔軟な日付計算が可能です。</p>\n<h3 id=\"基本的な使用例-1\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B-1\" aria-label=\"基本的な使用例 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本的な使用例</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n<span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>relativedelta <span class=\"token keyword\">import</span> relativedelta\n\nnow <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>now <span class=\"token operator\">+</span> relativedelta<span class=\"token punctuation\">(</span>months<span class=\"token operator\">=</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 1ヶ月後</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>now <span class=\"token operator\">+</span> relativedelta<span class=\"token punctuation\">(</span>months<span class=\"token operator\">=</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> weeks<span class=\"token operator\">=</span><span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 1ヶ月前＋1週間後</span></code></pre></div>\n<h3 id=\"特定の曜日を指定\" style=\"position:relative;\"><a href=\"#%E7%89%B9%E5%AE%9A%E3%81%AE%E6%9B%9C%E6%97%A5%E3%82%92%E6%8C%87%E5%AE%9A\" aria-label=\"特定の曜日を指定 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>特定の曜日を指定</h3>\n<p>曜日を柔軟に指定することもできます：</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> date\n<span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>relativedelta <span class=\"token keyword\">import</span> relativedelta<span class=\"token punctuation\">,</span> FR\n\ntoday <span class=\"token operator\">=</span> date<span class=\"token punctuation\">.</span>today<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>today <span class=\"token operator\">+</span> relativedelta<span class=\"token punctuation\">(</span>weekday<span class=\"token operator\">=</span>FR<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 次の金曜日</span></code></pre></div>\n<h3 id=\"年や月の特定日を計算\" style=\"position:relative;\"><a href=\"#%E5%B9%B4%E3%82%84%E6%9C%88%E3%81%AE%E7%89%B9%E5%AE%9A%E6%97%A5%E3%82%92%E8%A8%88%E7%AE%97\" aria-label=\"年や月の特定日を計算 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>年や月の特定日を計算</h3>\n<p><code class=\"language-text\">relativedelta</code> を使って、年の特定日や閏年を考慮した計算も可能です：</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> date\n<span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>relativedelta <span class=\"token keyword\">import</span> relativedelta\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>date<span class=\"token punctuation\">(</span><span class=\"token number\">2023</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> relativedelta<span class=\"token punctuation\">(</span>yearday<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 2023年の100日目</span></code></pre></div>\n<h2 id=\"4-繰り返しルールrrule-モジュール\" style=\"position:relative;\"><a href=\"#4-%E7%B9%B0%E3%82%8A%E8%BF%94%E3%81%97%E3%83%AB%E3%83%BC%E3%83%ABrrule-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB\" aria-label=\"4 繰り返しルールrrule モジュール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 繰り返しルール（rrule モジュール）</h2>\n<p><code class=\"language-text\">rrule</code> を使うことで、繰り返しイベントを簡単に定義できます。これはカレンダーアプリケーションなどで頻繁に利用されます。</p>\n<h3 id=\"基本的な使用例-2\" style=\"position:relative;\"><a href=\"#%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E7%94%A8%E4%BE%8B-2\" aria-label=\"基本的な使用例 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>基本的な使用例</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>rrule <span class=\"token keyword\">import</span> rrule<span class=\"token punctuation\">,</span> DAILY<span class=\"token punctuation\">,</span> MONTHLY\n<span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime\n\nstart <span class=\"token operator\">=</span> datetime<span class=\"token punctuation\">(</span><span class=\"token number\">2023</span><span class=\"token punctuation\">,</span> <span class=\"token number\">12</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 毎日3回繰り返す</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>rrule<span class=\"token punctuation\">(</span>DAILY<span class=\"token punctuation\">,</span> count<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> dtstart<span class=\"token operator\">=</span>start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 毎月最終金曜日を3回繰り返す</span>\n<span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>rrule <span class=\"token keyword\">import</span> FR\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>rrule<span class=\"token punctuation\">(</span>MONTHLY<span class=\"token punctuation\">,</span> count<span class=\"token operator\">=</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> byweekday<span class=\"token operator\">=</span>FR<span class=\"token punctuation\">(</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> dtstart<span class=\"token operator\">=</span>start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"5-よくあるエラーと対処法\" style=\"position:relative;\"><a href=\"#5-%E3%82%88%E3%81%8F%E3%81%82%E3%82%8B%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%A8%E5%AF%BE%E5%87%A6%E6%B3%95\" aria-label=\"5 よくあるエラーと対処法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. よくあるエラーと対処法</h2>\n<p>日付文字列が解析できない場合、<code class=\"language-text\">ParserError</code> が発生します。この例外は <code class=\"language-text\">ValueError</code> のサブクラスであるため、<code class=\"language-text\">ValueError</code> をキャッチするコードで対処可能です。</p>\n<h3 id=\"エラー例と対処法\" style=\"position:relative;\"><a href=\"#%E3%82%A8%E3%83%A9%E3%83%BC%E4%BE%8B%E3%81%A8%E5%AF%BE%E5%87%A6%E6%B3%95\" aria-label=\"エラー例と対処法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>エラー例と対処法</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> dateutil<span class=\"token punctuation\">.</span>parser <span class=\"token keyword\">import</span> parse\n\n<span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n    parse<span class=\"token punctuation\">(</span><span class=\"token string\">'invalid date'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">except</span> ValueError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"エラーが発生しました: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>e<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"6-他の類似ライブラリとの比較\" style=\"position:relative;\"><a href=\"#6-%E4%BB%96%E3%81%AE%E9%A1%9E%E4%BC%BC%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%81%A8%E3%81%AE%E6%AF%94%E8%BC%83\" aria-label=\"6 他の類似ライブラリとの比較 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 他の類似ライブラリとの比較</h2>\n<p><code class=\"language-text\">dateutil</code> に加えて、以下のライブラリも検討する価値があります：</p>\n<ul>\n<li><strong>arrow</strong>: <code class=\"language-text\">dateutil</code> よりも簡潔なコードで日付操作が可能。</li>\n<li><strong>pendulum</strong>: タイムゾーンや自然言語のサポートに優れる。</li>\n</ul>\n<h2 id=\"結論\" style=\"position:relative;\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-label=\"結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>結論</h2>\n<p><code class=\"language-text\">dateutil</code> は標準ライブラリを補完する非常に便利なツールで、特に日付解析や柔軟な日付計算、繰り返しルールの指定において力を発揮します。このモジュールを活用することで、日付や時間に関する処理を大幅に効率化できます。</p>","frontmatter":{"title":"Pythonの日付操作をより便利にする強力なサードパーティライブラリ - dateutil","date":"2025-02-08","description":"Python標準ライブラリdatetimeの強化版として活躍するdateutilモジュール。その柔軟な日付解析、相対日付計算、繰り返しルール指定などを具体例とともに詳しく解説します。","tags":["Python","dateutil","サードパーティライブラリ"],"featuredImage":{"publicURL":"/static/58806ff8f67ddf870a8d9902f47dcd61/python2.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg","srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/19e71/python2.jpg 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/68974/python2.jpg 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/6766a/python2.webp 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/22bfc/python2.webp 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/d689f/python2.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}}}},"relatedPosts":{"nodes":[]},"previous":{"fields":{"slug":"/legb-scope-python/"},"frontmatter":{"title":"LEGB規則とPythonの変数スコープ"}},"next":{"fields":{"slug":"/python-base64/"},"frontmatter":{"title":"Pythonでデータをエンコード・デコードする - base64"}}},"pageContext":{"id":"0e2362aa-79b8-545b-96c2-f19b6e2c8870","previousPostId":"75a420d1-4478-5d6c-95a6-3d45efcabf11","nextPostId":"099be038-e7f2-52d6-9faa-f8469f84e5a5","relatedPosts":[]}},"staticQueryHashes":["2841359383"],"slicesMap":{}}