{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/python-copy/","result":{"data":{"site":{"siteMetadata":{"title":"Developer's blog"}},"markdownRemark":{"id":"9c908ad8-c2d2-5c03-9758-a5eb4b5f2f67","excerpt":"Python では、オブジェクトのコピーにはさまざまな方法がありますが、その挙動を正しく理解することが重要です。特に、ミュータブルなオブジェクトをコピーする際には、「参照」「浅いコピー（Shallow Copy）」「深いコピー（Deep Copy…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#1-%E5%8F%82%E7%85%A7shallow-copydeep-copy-%E3%81%AE%E9%81%95%E3%81%84\">1. 参照、Shallow Copy、Deep Copy の違い</a></p>\n<ul>\n<li>\n<p><a href=\"#11-%E5%8F%82%E7%85%A7\">1.1 参照</a></p>\n<ul>\n<li><a href=\"#%E4%BE%8B\">例</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#12-shallow-copy%E6%B5%85%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\">1.2 Shallow Copy（浅いコピー）</a></p>\n<ul>\n<li><a href=\"#%E4%BE%8B-1\">例</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#13-deep-copy%E6%B7%B1%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\">1.3 Deep Copy（深いコピー）</a></p>\n<ul>\n<li><a href=\"#%E4%BE%8B-2\">例</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-code-classlanguage-textcopycode-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E6%B4%BB%E7%94%A8%E6%96%B9%E6%B3%95\">2. <code class=\"language-text\">copy</code> モジュールの活用方法</a></p>\n<ul>\n<li>\n<p><a href=\"#21-code-classlanguage-textcopycopycode\">2.1 <code class=\"language-text\">copy.copy()</code></a></p>\n<ul>\n<li><a href=\"#%E7%89%B9%E5%BE%B4\">特徴</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B\">使用例</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#22-code-classlanguage-textcopydeepcopycode\">2.2 <code class=\"language-text\">copy.deepcopy()</code></a></p>\n<ul>\n<li><a href=\"#%E7%89%B9%E5%BE%B4-1\">特徴</a></li>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-1\">使用例</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#3-%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B3%E3%83%94%E3%83%BC%E6%96%B9%E6%B3%95\">3. その他のコピー方法</a></p>\n<ul>\n<li>\n<p><a href=\"#31-%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9\">3.1 スライス</a></p>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-2\">使用例</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#32-%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E9%96%A2%E6%95%B0\">3.2 組み込み関数</a></p>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-3\">使用例</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%E5%AE%9F%E7%94%A8%E4%BE%8B\">4. 実用例</a></p>\n<ul>\n<li>\n<p><a href=\"#41-%E3%83%AB%E3%83%BC%E3%83%97%E5%86%85%E3%81%A7%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%B3%E3%83%94%E3%83%BC\">4.1 ループ内での辞書コピー</a></p>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-4\">使用例</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#42-%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E3%82%B3%E3%83%94%E3%83%BC\">4.2 クラスインスタンスのコピー</a></p>\n<ul>\n<li><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-5\">使用例</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5-%E5%8F%82%E7%85%A7shallow-copydeep-copy-%E3%81%AE%E4%BD%BF%E3%81%84%E5%88%86%E3%81%91\">5. 参照、Shallow Copy、Deep Copy の使い分け</a></p>\n<ul>\n<li><a href=\"#51-%E5%8F%82%E7%85%A7\">5.1 参照</a></li>\n<li><a href=\"#52-shallow-copy%E6%B5%85%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\">5.2 Shallow Copy（浅いコピー）</a></li>\n<li><a href=\"#53-deep-copy%E6%B7%B1%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\">5.3 Deep Copy（深いコピー）</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#6-%E7%B5%90%E8%AB%96\">6. 結論</a></p>\n</li>\n</ul>","html":"<p>Python では、オブジェクトのコピーにはさまざまな方法がありますが、その挙動を正しく理解することが重要です。特に、ミュータブルなオブジェクトをコピーする際には、「参照」「浅いコピー（Shallow Copy）」「深いコピー（Deep Copy）」の違いを理解する必要があります。本記事では、これらの違いを解説し、<code class=\"language-text\">copy</code> モジュールを活用した具体的なコピー方法について詳しく説明します。</p>\n<h2 id=\"1-参照shallow-copydeep-copy-の違い\" style=\"position:relative;\"><a href=\"#1-%E5%8F%82%E7%85%A7shallow-copydeep-copy-%E3%81%AE%E9%81%95%E3%81%84\" aria-label=\"1 参照shallow copydeep copy の違い permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 参照、Shallow Copy、Deep Copy の違い</h2>\n<h3 id=\"11-参照\" style=\"position:relative;\"><a href=\"#11-%E5%8F%82%E7%85%A7\" aria-label=\"11 参照 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1 参照</h3>\n<p>Python では、変数への代入はオブジェクトをコピーしません。代入された変数は、元のオブジェクトへの<strong>参照</strong>として動作します。つまり、複数の変数が同じオブジェクトを指している場合、どちらかの変数を使ってオブジェクトを変更すると、他方からも変更が反映されます。</p>\n<h4 id=\"例\" style=\"position:relative;\"><a href=\"#%E4%BE%8B\" aria-label=\"例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">values <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span>\nv_ref <span class=\"token operator\">=</span> values  <span class=\"token comment\"># オブジェクトへの参照を作成</span>\nv_ref<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span>  <span class=\"token comment\"># 参照を通じてオブジェクトを変更</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['a', 'x', 'c']</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>v_ref<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['a', 'x', 'c']</span></code></pre></div>\n<p>このような挙動は、意図せぬ変更を引き起こす可能性があるため注意が必要です。</p>\n<h3 id=\"12-shallow-copy浅いコピー\" style=\"position:relative;\"><a href=\"#12-shallow-copy%E6%B5%85%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\" aria-label=\"12 shallow copy浅いコピー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.2 Shallow Copy（浅いコピー）</h3>\n<p>浅いコピー（Shallow Copy）は、コピー元オブジェクトの 1 階層目の要素をコピーして新しいオブジェクトを作成します。しかし、2 階層目以降の子オブジェクトは参照としてコピーされるため、コピー元とコピー先が子オブジェクトを共有します。</p>\n<h4 id=\"例-1\" style=\"position:relative;\"><a href=\"#%E4%BE%8B-1\" aria-label=\"例 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\n\nvalues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\nshallow_copy <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 浅いコピー（Shallow Copy）</span>\n\nshallow_copy<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span>  <span class=\"token comment\"># 子オブジェクトを変更</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [[9, 2], [3, 4]]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>shallow_copy<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [[9, 2], [3, 4]]</span></code></pre></div>\n<p>この例では、子オブジェクト（リスト）が共有されているため、片方の変更がもう片方にも反映されます。</p>\n<h3 id=\"13-deep-copy深いコピー\" style=\"position:relative;\"><a href=\"#13-deep-copy%E6%B7%B1%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\" aria-label=\"13 deep copy深いコピー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3 Deep Copy（深いコピー）</h3>\n<p>深いコピー（Deep Copy）は、元のオブジェクトとそのすべての子オブジェクトを再帰的にコピーします。その結果、コピー元とコピー先は完全に独立したオブジェクトとなります。</p>\n<h4 id=\"例-2\" style=\"position:relative;\"><a href=\"#%E4%BE%8B-2\" aria-label=\"例 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\n\nvalues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ndeep_copy <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 深いコピー（Deep Copy）</span>\n\ndeep_copy<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span>  <span class=\"token comment\"># 子オブジェクトを変更</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [[1, 2], [3, 4]]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>deep_copy<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [[9, 2], [3, 4]]</span></code></pre></div>\n<p>この場合、コピー元とコピー先のオブジェクトは完全に独立しているため、片方の変更がもう片方に影響を与えることはありません。</p>\n<h2 id=\"2-code-classlanguage-textcopycode-モジュールの活用方法\" style=\"position:relative;\"><a href=\"#2-code-classlanguage-textcopycode-%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB%E3%81%AE%E6%B4%BB%E7%94%A8%E6%96%B9%E6%B3%95\" aria-label=\"2 code classlanguage textcopycode モジュールの活用方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. <code class=\"language-text\">copy</code> モジュールの活用方法</h2>\n<p><code class=\"language-text\">copy</code> モジュールは、オブジェクトをコピーするための便利な関数を提供します。以下に、代表的な 2 つの関数を紹介します。</p>\n<h3 id=\"21-code-classlanguage-textcopycopycode\" style=\"position:relative;\"><a href=\"#21-code-classlanguage-textcopycopycode\" aria-label=\"21 code classlanguage textcopycopycode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1 <code class=\"language-text\">copy.copy()</code></h3>\n<h4 id=\"特徴\" style=\"position:relative;\"><a href=\"#%E7%89%B9%E5%BE%B4\" aria-label=\"特徴 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>特徴</h4>\n<ul>\n<li>浅いコピー（Shallow Copy）を作成します。</li>\n<li>1 階層目の要素は新しいオブジェクトとしてコピーされますが、2 階層目以降は参照が共有されます。</li>\n</ul>\n<h4 id=\"使用例\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B\" aria-label=\"使用例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\n\nvalues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'b'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'c'</span><span class=\"token punctuation\">]</span>\nshallow_copy <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>\nshallow_copy<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">'x'</span>  <span class=\"token comment\"># コピー先を変更</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['a', 'b', 'c']</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>shallow_copy<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ['a', 'x', 'c']</span></code></pre></div>\n<p>多次元リストの場合の挙動については、先述の例を参照してください。</p>\n<h3 id=\"22-code-classlanguage-textcopydeepcopycode\" style=\"position:relative;\"><a href=\"#22-code-classlanguage-textcopydeepcopycode\" aria-label=\"22 code classlanguage textcopydeepcopycode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2 <code class=\"language-text\">copy.deepcopy()</code></h3>\n<h4 id=\"特徴-1\" style=\"position:relative;\"><a href=\"#%E7%89%B9%E5%BE%B4-1\" aria-label=\"特徴 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>特徴</h4>\n<ul>\n<li>深いコピー（Deep Copy）を作成します。</li>\n<li>すべての階層を再帰的にコピーするため、コピー元とコピー先が完全に独立します。</li>\n</ul>\n<h4 id=\"使用例-1\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-1\" aria-label=\"使用例 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\n\nvalues <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\ndeep_copy <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>\ndeep_copy<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span>  <span class=\"token comment\"># コピー先を変更</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [[1, 2], [3, 4]]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>deep_copy<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [[9, 2], [3, 4]]</span></code></pre></div>\n<h2 id=\"3-その他のコピー方法\" style=\"position:relative;\"><a href=\"#3-%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E3%82%B3%E3%83%94%E3%83%BC%E6%96%B9%E6%B3%95\" aria-label=\"3 その他のコピー方法 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. その他のコピー方法</h2>\n<p><code class=\"language-text\">copy</code> モジュールを使用しなくても、以下の方法で浅いコピー（Shallow Copy）を作成することが可能です。</p>\n<h3 id=\"31-スライス\" style=\"position:relative;\"><a href=\"#31-%E3%82%B9%E3%83%A9%E3%82%A4%E3%82%B9\" aria-label=\"31 スライス permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.1 スライス</h3>\n<p>リスト全体をスライスすることで浅いコピー（Shallow Copy）を作成できます。</p>\n<h4 id=\"使用例-2\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-2\" aria-label=\"使用例 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">values <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nshallow_copy <span class=\"token operator\">=</span> values<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\nshallow_copy<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">9</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>values<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [1, 2, 3]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>shallow_copy<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [9, 2, 3]</span></code></pre></div>\n<h3 id=\"32-組み込み関数\" style=\"position:relative;\"><a href=\"#32-%E7%B5%84%E3%81%BF%E8%BE%BC%E3%81%BF%E9%96%A2%E6%95%B0\" aria-label=\"32 組み込み関数 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3.2 組み込み関数</h3>\n<p>リストや辞書、セットなどの組み込み関数を使用して浅いコピー（Shallow Copy）を作成できます。</p>\n<h4 id=\"使用例-3\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-3\" aria-label=\"使用例 3 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">values_list <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span>\nvalues_dict <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'key'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'value'</span><span class=\"token punctuation\">}</span>\nvalues_set <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">}</span>\n\nshallow_list <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>values_list<span class=\"token punctuation\">)</span>\nshallow_dict <span class=\"token operator\">=</span> <span class=\"token builtin\">dict</span><span class=\"token punctuation\">(</span>values_dict<span class=\"token punctuation\">)</span>\nshallow_set <span class=\"token operator\">=</span> <span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>values_set<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>shallow_list<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># [1, 2, 3]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>shallow_dict<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># {'key': 'value'}</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>shallow_set<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># {1, 2, 3}</span></code></pre></div>\n<h2 id=\"4-実用例\" style=\"position:relative;\"><a href=\"#4-%E5%AE%9F%E7%94%A8%E4%BE%8B\" aria-label=\"4 実用例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 実用例</h2>\n<h3 id=\"41-ループ内での辞書コピー\" style=\"position:relative;\"><a href=\"#41-%E3%83%AB%E3%83%BC%E3%83%97%E5%86%85%E3%81%A7%E3%81%AE%E8%BE%9E%E6%9B%B8%E3%82%B3%E3%83%94%E3%83%BC\" aria-label=\"41 ループ内での辞書コピー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.1 ループ内での辞書コピー</h3>\n<p>辞書をコピーして編集し、リストに追加する例を紹介します。</p>\n<h4 id=\"使用例-4\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-4\" aria-label=\"使用例 4 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\n\nauthors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'Alice'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Bob'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'Charlie'</span><span class=\"token punctuation\">]</span>\nbase_dict <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'role'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'author'</span><span class=\"token punctuation\">}</span>\ndata <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">for</span> author <span class=\"token keyword\">in</span> authors<span class=\"token punctuation\">:</span>\n    temp <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span>base_dict<span class=\"token punctuation\">)</span>\n    temp<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> author\n    data<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>temp<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># [{'role': 'author', 'name': 'Alice'}, {'role': 'author', 'name': 'Bob'}, {'role': 'author', 'name': 'Charlie'}]</span></code></pre></div>\n<h3 id=\"42-クラスインスタンスのコピー\" style=\"position:relative;\"><a href=\"#42-%E3%82%AF%E3%83%A9%E3%82%B9%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%81%AE%E3%82%B3%E3%83%94%E3%83%BC\" aria-label=\"42 クラスインスタンスのコピー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4.2 クラスインスタンスのコピー</h3>\n<p>クラスインスタンスをコピーする際は、<code class=\"language-text\">copy.deepcopy()</code> を使用します。</p>\n<h4 id=\"使用例-5\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E7%94%A8%E4%BE%8B-5\" aria-label=\"使用例 5 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使用例</h4>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n        self<span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age\n\nperson1 <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">(</span><span class=\"token string\">'Alice'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span>\nperson2 <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>person1<span class=\"token punctuation\">)</span>\nperson2<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Bob'</span>\n\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>person1<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Alice</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>person2<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Bob</span></code></pre></div>\n<h2 id=\"5-参照shallow-copydeep-copy-の使い分け\" style=\"position:relative;\"><a href=\"#5-%E5%8F%82%E7%85%A7shallow-copydeep-copy-%E3%81%AE%E4%BD%BF%E3%81%84%E5%88%86%E3%81%91\" aria-label=\"5 参照shallow copydeep copy の使い分け permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 参照、Shallow Copy、Deep Copy の使い分け</h2>\n<p>実際にどの方法を使用するべきかは、状況によって異なります。以下に、具体的な使いどころを示します。</p>\n<h3 id=\"51-参照\" style=\"position:relative;\"><a href=\"#51-%E5%8F%82%E7%85%A7\" aria-label=\"51 参照 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.1 参照</h3>\n<ul>\n<li><strong>使いどころ</strong>:\n<ul>\n<li>パフォーマンスを重視する場合。</li>\n<li>同じオブジェクトを複数の箇所で共有して使用する必要がある場合。</li>\n</ul>\n</li>\n<li><strong>注意点</strong>:\n<ul>\n<li>変更が他の箇所に影響を及ぼす可能性がある。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"52-shallow-copy浅いコピー\" style=\"position:relative;\"><a href=\"#52-shallow-copy%E6%B5%85%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\" aria-label=\"52 shallow copy浅いコピー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.2 Shallow Copy（浅いコピー）</h3>\n<ul>\n<li><strong>使いどころ</strong>:\n<ul>\n<li>1 階層目の要素だけをコピーしたい場合。</li>\n<li>データ構造がシンプルで、子オブジェクトを共有しても問題ない場合。</li>\n</ul>\n</li>\n<li><strong>注意点</strong>:\n<ul>\n<li>子オブジェクトを変更すると、コピー元にも影響が出る。</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"53-deep-copy深いコピー\" style=\"position:relative;\"><a href=\"#53-deep-copy%E6%B7%B1%E3%81%84%E3%82%B3%E3%83%94%E3%83%BC\" aria-label=\"53 deep copy深いコピー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.3 Deep Copy（深いコピー）</h3>\n<ul>\n<li><strong>使いどころ</strong>:\n<ul>\n<li>多階層のデータ構造を完全に分離して扱いたい場合。</li>\n<li>コピー元とコピー先が完全に独立している必要がある場合。</li>\n</ul>\n</li>\n<li><strong>注意点</strong>:\n<ul>\n<li>階層が深いデータ構造では処理コストが高くなる。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"6-結論\" style=\"position:relative;\"><a href=\"#6-%E7%B5%90%E8%AB%96\" aria-label=\"6 結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 結論</h2>\n<p><code class=\"language-text\">copy</code> モジュールを使用すると、Python でのオブジェクトコピーが簡単かつ安全に行えます。特に、<code class=\"language-text\">copy.copy()</code> と <code class=\"language-text\">copy.deepcopy()</code> の違いを正しく理解することで、意図しないデータ変更を防ぎ、プログラムの信頼性を向上させることができます。用途に応じて適切なコピー方法を選択し、効率的なコーディングを行いましょう。</p>","frontmatter":{"title":"Pythonでオブジェクトをコピーする: 参照、Sallow/Deep Copy - copyモジュール","date":"2025-02-09","description":"Pythonでのオブジェクトコピーに関する基本から応用までを解説。参照、浅いコピー（Shallow Copy）、深いコピー（Deep Copy）の違いと、それぞれの使い分けについて詳しく説明します。","tags":["Python","copy"],"featuredImage":{"publicURL":"/static/58806ff8f67ddf870a8d9902f47dcd61/python2.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg","srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/19e71/python2.jpg 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/68974/python2.jpg 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/6766a/python2.webp 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/22bfc/python2.webp 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/d689f/python2.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}}}},"relatedPosts":{"nodes":[]},"previous":{"fields":{"slug":"/python-timeit/"},"frontmatter":{"title":"Pythonでコード実行時間を計測する - timeit"}},"next":{"fields":{"slug":"/python-gzip/"},"frontmatter":{"title":"Pythonでgzipファイルを扱う - gzip"}}},"pageContext":{"id":"9c908ad8-c2d2-5c03-9758-a5eb4b5f2f67","previousPostId":"b2e2e472-1dab-5538-9922-d0e80d1969a7","nextPostId":"2388317c-7df0-5dd4-b224-9d1beb08c579","relatedPosts":[]}},"staticQueryHashes":["2841359383"],"slicesMap":{}}