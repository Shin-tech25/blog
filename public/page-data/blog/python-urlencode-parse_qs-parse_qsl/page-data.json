{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/python-urlencode-parse_qs-parse_qsl/","result":{"data":{"site":{"siteMetadata":{"title":"Developer's blog"}},"markdownRemark":{"id":"5e0a1904-94ee-59d2-a25e-7095ab2a45ff","excerpt":"概要 Web 開発や API 通信において、URL のクエリ文字列は、データの送受信やリソースの指定に欠かせない要素です。Python…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E6%A6%82%E8%A6%81\">概要</a></p>\n</li>\n<li>\n<p><a href=\"#code-classlanguage-texturllibrequestcode-%E3%81%AE%E5%9F%BA%E6%9C%AC\"><code class=\"language-text\">urllib.request</code> の基本</a></p>\n</li>\n<li>\n<p><a href=\"#url-%E3%82%AF%E3%82%A8%E3%83%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%81%AF\">URL クエリ文字列とは</a></p>\n</li>\n<li>\n<p><a href=\"#python-%E3%81%A7%E3%81%AE%E3%82%AF%E3%82%A8%E3%83%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%94%9F%E6%88%90\">Python でのクエリ文字列の生成</a></p>\n<ul>\n<li><a href=\"#code-classlanguage-texturlencodecode%E9%96%A2%E6%95%B0%E3%81%AE%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9\"><code class=\"language-text\">urlencode</code>関数の基本的な使い方</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#python-%E3%81%A7%E3%81%AE%E3%82%AF%E3%82%A8%E3%83%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E8%A7%A3%E6%9E%90\">Python でのクエリ文字列の解析</a></p>\n<ul>\n<li><a href=\"#code-classlanguage-textparse_qscode%E9%96%A2%E6%95%B0\"><code class=\"language-text\">parse_qs</code>関数</a></li>\n<li><a href=\"#code-classlanguage-textparse_qslcode%E9%96%A2%E6%95%B0\"><code class=\"language-text\">parse_qsl</code>関数</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#code-classlanguage-texturlencodecode%E3%81%A8code-classlanguage-textparse_qscodecode-classlanguage-textparse_qslcode%E3%81%AE%E7%9B%B8%E4%BA%92%E9%96%A2%E4%BF%82\"><code class=\"language-text\">urlencode</code>と<code class=\"language-text\">parse_qs</code>/<code class=\"language-text\">parse_qsl</code>の相互関係</a></p>\n</li>\n<li>\n<p><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></p>\n</li>\n</ul>","html":"<h2 id=\"概要\" style=\"position:relative;\"><a href=\"#%E6%A6%82%E8%A6%81\" aria-label=\"概要 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>概要</h2>\n<p>Web 開発や API 通信において、URL のクエリ文字列は、データの送受信やリソースの指定に欠かせない要素です。Python では、標準ライブラリの<code class=\"language-text\">urllib.parse</code>モジュールを活用することで、これらのクエリ文字列を効率的に生成・解析できます。</p>\n<p>本記事では、<code class=\"language-text\">urllib.parse</code>モジュールを用いたクエリ文字列の生成と解析の方法について詳しく解説します。</p>\n<h2 id=\"code-classlanguage-texturllibrequestcode-の基本\" style=\"position:relative;\"><a href=\"#code-classlanguage-texturllibrequestcode-%E3%81%AE%E5%9F%BA%E6%9C%AC\" aria-label=\"code classlanguage texturllibrequestcode の基本 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">urllib.request</code> の基本</h2>\n<h2 id=\"url-クエリ文字列とは\" style=\"position:relative;\"><a href=\"#url-%E3%82%AF%E3%82%A8%E3%83%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%A8%E3%81%AF\" aria-label=\"url クエリ文字列とは permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>URL クエリ文字列とは</h2>\n<p>URL クエリ文字列（クエリパラメータ）とは、URL の中で<code class=\"language-text\">?</code>以降に続く部分を指し、キーと値のペアが<code class=\"language-text\">&amp;</code>で連結された形式を取ります。たとえば：</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">https://www.example.com/search?q=python&amp;sort=recent</code></pre></div>\n<p>この URL では、<code class=\"language-text\">q=python&amp;sort=recent</code>がクエリ文字列です。この部分は、検索キーワードやフィルタリング条件など、サーバーに送信する追加情報を含むことが一般的です。</p>\n<h2 id=\"python-でのクエリ文字列の生成\" style=\"position:relative;\"><a href=\"#python-%E3%81%A7%E3%81%AE%E3%82%AF%E3%82%A8%E3%83%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E7%94%9F%E6%88%90\" aria-label=\"python でのクエリ文字列の生成 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python でのクエリ文字列の生成</h2>\n<p>Python の<code class=\"language-text\">urllib.parse</code>モジュールには、クエリ文字列を生成するための関数として<code class=\"language-text\">urlencode</code>が用意されています。この関数を使用することで、辞書やリストなどのデータ構造からクエリ文字列を簡単に作成できます。</p>\n<h3 id=\"code-classlanguage-texturlencodecode関数の基本的な使い方\" style=\"position:relative;\"><a href=\"#code-classlanguage-texturlencodecode%E9%96%A2%E6%95%B0%E3%81%AE%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9\" aria-label=\"code classlanguage texturlencodecode関数の基本的な使い方 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">urlencode</code>関数の基本的な使い方</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>parse <span class=\"token keyword\">import</span> urlencode\n\n<span class=\"token comment\"># 辞書データ</span>\ndata <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'key1'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'value1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'value2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'key2'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'value3'</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\"># クエリ文字列にエンコード</span>\nquery_string <span class=\"token operator\">=</span> urlencode<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> doseq<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>query_string<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 出力: key1=value1&amp;key1=value2&amp;key2=value3</span></code></pre></div>\n<ul>\n<li><strong><code class=\"language-text\">doseq=True</code></strong>: 値がリストやタプルの場合、各要素を個別の<code class=\"language-text\">key=value</code>ペアとしてエンコードします。</li>\n</ul>\n<h2 id=\"python-でのクエリ文字列の解析\" style=\"position:relative;\"><a href=\"#python-%E3%81%A7%E3%81%AE%E3%82%AF%E3%82%A8%E3%83%AA%E6%96%87%E5%AD%97%E5%88%97%E3%81%AE%E8%A7%A3%E6%9E%90\" aria-label=\"python でのクエリ文字列の解析 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Python でのクエリ文字列の解析</h2>\n<p>URL からクエリ文字列を解析し、Python のデータ構造に変換する際には、<code class=\"language-text\">urllib.parse</code>モジュールの<code class=\"language-text\">parse_qs</code>および<code class=\"language-text\">parse_qsl</code>関数が役立ちます。</p>\n<h3 id=\"code-classlanguage-textparse_qscode関数\" style=\"position:relative;\"><a href=\"#code-classlanguage-textparse_qscode%E9%96%A2%E6%95%B0\" aria-label=\"code classlanguage textparse_qscode関数 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">parse_qs</code>関数</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>parse <span class=\"token keyword\">import</span> parse_qs\n\nquery_string <span class=\"token operator\">=</span> <span class=\"token string\">'key1=value1&amp;key1=value2&amp;key2=value3'</span>\nparsed_dict <span class=\"token operator\">=</span> parse_qs<span class=\"token punctuation\">(</span>query_string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parsed_dict<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 出力: {'key1': ['value1', 'value2'], 'key2': ['value3']}</span></code></pre></div>\n<ul>\n<li>同じキーが複数存在する場合、対応する値がリストとしてまとめられます。</li>\n</ul>\n<h3 id=\"code-classlanguage-textparse_qslcode関数\" style=\"position:relative;\"><a href=\"#code-classlanguage-textparse_qslcode%E9%96%A2%E6%95%B0\" aria-label=\"code classlanguage textparse_qslcode関数 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">parse_qsl</code>関数</h3>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>parse <span class=\"token keyword\">import</span> parse_qsl\n\nquery_string <span class=\"token operator\">=</span> <span class=\"token string\">'key1=value1&amp;key1=value2&amp;key2=value3'</span>\nparsed_list <span class=\"token operator\">=</span> parse_qsl<span class=\"token punctuation\">(</span>query_string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parsed_list<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 出力: [('key1', 'value1'), ('key1', 'value2'), ('key2', 'value3')]</span></code></pre></div>\n<ul>\n<li>クエリパラメータの順序が保持されるため、順序が重要な場合に有効です。</li>\n</ul>\n<h2 id=\"code-classlanguage-texturlencodecodeとcode-classlanguage-textparse_qscodecode-classlanguage-textparse_qslcodeの相互関係\" style=\"position:relative;\"><a href=\"#code-classlanguage-texturlencodecode%E3%81%A8code-classlanguage-textparse_qscodecode-classlanguage-textparse_qslcode%E3%81%AE%E7%9B%B8%E4%BA%92%E9%96%A2%E4%BF%82\" aria-label=\"code classlanguage texturlencodecodeとcode classlanguage textparse_qscodecode classlanguage textparse_qslcodeの相互関係 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">urlencode</code>と<code class=\"language-text\">parse_qs</code>/<code class=\"language-text\">parse_qsl</code>の相互関係</h2>\n<p><code class=\"language-text\">urlencode</code>と<code class=\"language-text\">parse_qs</code>、および<code class=\"language-text\">parse_qsl</code>は、形式の差や順序などの違いはありますが、互いに逆操作として機能します。大まかなイメージだけでも掴んでおくと理解しやすいです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6d2b0c667af2aaf39e1d34a885f8452e/a6d36/urlencode_parse_qs_parse_qsl.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.32911392405063%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACH0lEQVR42mP4////33///vz79x8G/vwFCiC4UEEkISATqAbIYPgH5gCV33725viNh0/ffoTo//Hj55cvX759+/YHbBhQ8PO3H2fvPjl37+nXHz8hVjIAqXefv6ZOWysa38QTVSuX1t694dC3Hz8Pnrq47/h5INp+6PT37z8OXr1nWjaZN7qOL7rOumrasRsPQTYDceKU1Qx+JUJxDYJxDdyRtQwBZRM3H7507c6Rs1dB6PTlc3ceS6e2sYZWiiY0icQ3ModUKGZ0PH7zgeHO8zdAIZPSyS4Ns62rpsdMWKGd32dSOgnivd9/QH5rXr2XPazKsHiiSlaXVl6vWdkU9rDqSVuPMhy/+VAyqUWvsB8oZ1U5zaZ6mmxqm05B3+fvP+Gac+dsBFoA1KOV36uZ12NUMkkgtr562Q6Glx8+q2R3Ab2qnNUpndIKRNyRNT5t84HB+Pb9x9dv33358GHS5kNckTXy6e1iic1AUySTW9jCqpYfvgDyc++mQ0BvAANDCOxn4fjGvZduHzt7Zcv+k4dOX95+8NSVu4+cG+YwBlcAFQjFNjCHVHo2z/v28zc0qhbuPwP0M9BhgZ2LDly+CzTx1oOnl2/ev/vo2dXbDz9/+friw+eCuZssKqZaVkwtW7Tt1cfP0NCGROOPX7/ffv4KiX2ICDxdQBICkPHx6/dP335AFPyDxDNQ+PdfaEr4C0s9/5AARPw3WBwoA1cMABu045Yq4u6zAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"urlencode_parse_qs_parse_qsl.png\"\n        title=\"\"\n        src=\"/static/6d2b0c667af2aaf39e1d34a885f8452e/f058b/urlencode_parse_qs_parse_qsl.png\"\n        srcset=\"/static/6d2b0c667af2aaf39e1d34a885f8452e/c26ae/urlencode_parse_qs_parse_qsl.png 158w,\n/static/6d2b0c667af2aaf39e1d34a885f8452e/6bdcf/urlencode_parse_qs_parse_qsl.png 315w,\n/static/6d2b0c667af2aaf39e1d34a885f8452e/f058b/urlencode_parse_qs_parse_qsl.png 630w,\n/static/6d2b0c667af2aaf39e1d34a885f8452e/a6d36/urlencode_parse_qs_parse_qsl.png 650w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> urllib<span class=\"token punctuation\">.</span>parse <span class=\"token keyword\">import</span> urlencode<span class=\"token punctuation\">,</span> parse_qs<span class=\"token punctuation\">,</span> parse_qsl\n\ndata <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'key1'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'value1'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'value2'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'key2'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'value3'</span><span class=\"token punctuation\">}</span>\nquery_string <span class=\"token operator\">=</span> urlencode<span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> doseq<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># parse_qsで解析</span>\nparsed_qs <span class=\"token operator\">=</span> parse_qs<span class=\"token punctuation\">(</span>query_string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parsed_qs<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 出力: {'key1': ['value1', 'value2'], 'key2': ['value3']}</span>\n\n<span class=\"token comment\"># parse_qslで解析</span>\nparsed_qsl <span class=\"token operator\">=</span> parse_qsl<span class=\"token punctuation\">(</span>query_string<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>parsed_qsl<span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># 出力: [('key1', 'value1'), ('key1', 'value2'), ('key2', 'value3')]</span></code></pre></div>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<ul>\n<li><strong><code class=\"language-text\">urlencode</code></strong>: Python の辞書やシーケンスをクエリ文字列に変換する。</li>\n<li><strong><code class=\"language-text\">parse_qs</code></strong>: クエリ文字列を辞書形式で解析し、値はリストで保持する。</li>\n<li><strong><code class=\"language-text\">parse_qsl</code></strong>: クエリ文字列を(キー, 値)のリスト形式で解析し、順序を保持する。</li>\n</ul>\n<p>これらの関数を理解し適切に使用することで、URL クエリパラメータの操作が容易になります。</p>","frontmatter":{"title":"URLクエリ文字列の生成と解析におけるPythonの標準ライブラリ活用","date":"2025-02-03","description":"Pythonの標準ライブラリであるurllib.parseモジュールを活用することで、これらのクエリ文字列を効率的に生成・解析できます。本記事では、urlencode、parse_qs、およびparse_qsl関数の役割や相互関係、具体的な使用方法について詳しく解説します。","tags":["Python","urllib"],"featuredImage":{"publicURL":"/static/58806ff8f67ddf870a8d9902f47dcd61/python2.jpg","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg","srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/19e71/python2.jpg 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/68974/python2.jpg 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/6766a/python2.webp 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/22bfc/python2.webp 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/d689f/python2.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}}}},"relatedPosts":{"nodes":[{"fields":{"slug":"/python-urllib-request/"},"frontmatter":{"title":"PythonでHTTPリクエストを送る - urllib.request","date":"2025-02-17","tags":["Python","urllib"],"description":"Python標準ライブラリ urllib.request を使用して、GET・POST・DELETEなどのHTTPリクエストを送信し、レスポンスを取得する方法を解説します。","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg","srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/19e71/python2.jpg 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/68974/python2.jpg 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/3c367/python2.jpg 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/58806ff8f67ddf870a8d9902f47dcd61/6766a/python2.webp 128w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/22bfc/python2.webp 256w,\n/static/58806ff8f67ddf870a8d9902f47dcd61/d689f/python2.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}}}}}]},"previous":{"fields":{"slug":"/python-enum1/"},"frontmatter":{"title":"Pythonのenumモジュールの使い方と実践例"}},"next":{"fields":{"slug":"/legb-scope-python/"},"frontmatter":{"title":"LEGB規則とPythonの変数スコープ"}}},"pageContext":{"id":"5e0a1904-94ee-59d2-a25e-7095ab2a45ff","previousPostId":"823b5a85-9163-563b-8d62-155f4f1494a9","nextPostId":"75a420d1-4478-5d6c-95a6-3d45efcabf11","relatedPosts":["/python-urllib-request/"]}},"staticQueryHashes":["2841359383"],"slicesMap":{}}